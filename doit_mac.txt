#!/bin/bash

if [ "$#" -eq 0 ];then
	echo Give the main file name as argument in order to compile
	exit 0
fi

#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/objectDetection/detection.cpp src/houghDetector.cpp src/videoStream.cpp src/KLT_ORB_Tracker.cpp -o bin/tryIt

#This is for feature based anchors
#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/ORBTrackingSwitch.cpp src/houghDetector.cpp src/videoStream.cpp src/KLT_ORB_Tracker.cpp src/trackedObjectClass.cpp -o bin/tryIt

#OF-VO
#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/OF_VO_v2.cpp src/KLT_ORB_Tracker.cpp -o bin/tryIt

#OF-VO SIM
#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/OF_VO_v2_SIM.cpp src/KLT_ORB_Tracker.cpp -o bin/VO_SIM

#Generate and show test dataset
#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/basicSimStream.cpp -o bin/tryIt

if [ ”$1” = ”basicStream” ];then
	#Just basic stream
	echo Compiling basicStream
	g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` examples/basicStream.cpp src/videoStream.cpp -o bin/basicStream
	echo Run with command ./bin/basicStream ”streamMode”
fi

if [ ”$1” = ”basicSimFlowField” ];then
	#KLT flow field with test set. version 2 tomography
	echo Compiling basicSimFlowField
	g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/basicSimFlowField.cpp src/homographyVO.cpp src/simulatePose.cpp -o bin/flowField
	echo Run with command .bin/flowField
fi

if [ ”$1” = ”basicGimLee” ];then
	#KLT flow field with test set. version 2 tomography
	echo Compiling basicGimLee streamer
	g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` examples/basicGimLee.cpp -o bin/basicGimLee
	echo Run with command ./bin/basicGimLee

fi
if [ ”$1” = ”basicAruco” ];then
	#KLT flow field with test set. version 2 tomography
	echo Compiling  basic Aruco with streamer
	g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` examples/basicAruco.cpp src/videoStream.cpp -o bin/basicAruco
	echo Run with command ./bin/basicAruco -mode-

fi


#Just stream images and data from gimlee
#g++ -std=c++11 -ggdb `pkg-config --cflags --libs opencv` spike/basicGimLee.cpp -o bin/gimlee



# Feature matching 
#./bin/tryIt picsForMatching/roi1.png picsForMatching/img1.png
#./bin/tryIt /Users/Fredrik/Datasets/picsForMatching/box.png /Users/Fredrik/Datasets/picsForMatching/box_in_scene.png

#./bin/tryIt 3 /Users/Fredrik/Datasets/picsForMatching/objectDetection/images/
#./bin/tryIt 3 /Users/Fredrik/Datasets/Euroc/V102/cam0/data/cam0_%04d.png

#debug:
#lldb ./bin/tryIt 3
#compile flag -ggdb


echo done